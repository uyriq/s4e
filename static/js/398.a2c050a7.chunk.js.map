{"version":3,"file":"static/js/398.a2c050a7.chunk.js","mappings":"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","sources":["features/use-screenshot.js","features/counter-text.jsx","features/controlled-counter-digit.jsx","features/number-input-digit.jsx","features/arrow-hand.jsx","pages/test/index.tsx"],"sourcesContent":["import React, { useRef, useState } from 'react'\nimport download from 'downloadjs'\nimport { toPng } from 'html-to-image'\n\n/**\n * Hook to generate screenshot\n */\nfunction useScreenshot() {\n    const captureRef1 = useRef()\n    const captureRef2 = useRef()\n    const [fileName, setFileName] = useState('undefined.PNG')\n    const [status, setStatus] = useState('idle')\n    let choiceRef\n\n    const UUID = (function UUIDGeneratorBrowser() {\n        return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11)\n            .replace(/[018]/g, (c) =>\n                (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16)\n            )\n            .split('-')[0]\n    })()\n\n    const curdate = (function getDate() {\n        let d = new Date()\n        let dformat = d.toISOString().split('T')[0]\n        return '' + dformat\n    })()\n    console.log(UUID)\n    async function generateImage(e, arg = 0, isRandomFname) {\n        console.log(arg)\n\n        e.preventDefault()\n\n        switch (arg) {\n            case 2: {\n                choiceRef = captureRef2\n                break\n            }\n            case 1:\n            default: {\n                choiceRef = captureRef1\n                break\n            }\n        }\n\n        if (!choiceRef?.current) {\n            return\n        }\n\n        isRandomFname ? setFileName(UUID + '.png') : setFileName(curdate + '.png')\n        try {\n            setStatus('loading')\n            const imgBase64 = await toPng(choiceRef.current, {\n                quality: 1,\n                pixelRatio: 1,\n            })\n            e.isTrusted && download(imgBase64, fileName)\n            setStatus('success')\n        } catch (error) {\n            setStatus('error')\n            console.error(error)\n        } finally {\n            choiceRef = null\n        }\n    }\n\n    return {\n        generateImage,\n        captureRef1,\n        captureRef2,\n        status,\n    }\n}\n\nexport default useScreenshot\n","import { Text } from '@mantine/core'\nimport PropTypes from 'prop-types'\n\nconst CounterText = (props) => {\n    const { children, color = '#4f4848', top = 0, left = 0, onChange, ...restofProps } = props\n\n    const sx = props.sx || {\n        letterSpacing: 0.1,\n        opacity: 0.9,\n        fontFamily: 'Tajawal, sans-serif',\n        fontKerning: 'normal',\n        fontSize: 28,\n        zIndex: 10,\n        position: 'absolute',\n        top: top,\n        left: left,\n        backdropFilter: 'blur(1px)',\n        textShadow: '1px 1px 1px rgba(0,0,0,.4), -1px -1px 0 rgba(255,255,255,.1)',\n    }\n\n    return (\n        <Text span weight={'light'} color={color} sx={sx} {...restofProps}>\n            {children}\n        </Text>\n    )\n}\n\nCounterText.propTypes = {\n    children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n    left: PropTypes.number,\n    top: PropTypes.number,\n    color: PropTypes.string,\n    onChange: PropTypes.func,\n    sx: PropTypes.shape({\n        letterSpacing: PropTypes.number,\n        opacity: PropTypes.number,\n        fontFamily: PropTypes.string,\n        fontKerning: PropTypes.string,\n        fontSize: PropTypes.number,\n        zIndex: PropTypes.number,\n        position: PropTypes.string,\n        top: PropTypes.number,\n        left: PropTypes.number,\n        backdropFilter: PropTypes.string,\n        textShadow: PropTypes.string,\n    }),\n}\n\nexport default CounterText\n","import { Text } from '@mantine/core'\nimport PropTypes from 'prop-types'\n\nconst ControlledCounterDigit = (props) => {\n    const {\n        spaceBetween = 20,\n        digitsArray = [],\n        color = '#d9480f',\n        top = 0,\n        left = 0,\n        onChange,\n        ...restofProps\n    } = props\n\n    return (\n        <div>\n            {digitsArray.map((number, index) => (\n                <Text\n                    key={index}\n                    span\n                    weight={'light'}\n                    color={color}\n                    sx={{\n                        position: 'absolute',\n                        top: top,\n                        left: left + spaceBetween * index,\n                        letterSpacing: 0.1,\n                        opacity: 0.9,\n                        fontFamily: 'Tajawal, sans-serif',\n                        fontKerning: 'normal',\n                        fontSize: 32,\n                        zIndex: 10,\n                        backdropFilter: 'blur(1px)',\n                        textShadow: '1px 1px 1px rgba(0,0,0,.4), -1px -1px 0 rgba(255,255,255,.1)',\n                    }}\n                    {...restofProps}\n                >\n                    {number}\n                </Text>\n            ))}\n        </div>\n    )\n}\n\nControlledCounterDigit.propTypes = {\n    digitsArray: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])).isRequired,\n    spaceBetween: PropTypes.number,\n    left: PropTypes.number,\n    top: PropTypes.number,\n    color: PropTypes.string,\n    onChange: PropTypes.func,\n    sx: PropTypes.shape({\n        letterSpacing: PropTypes.number,\n        opacity: PropTypes.number,\n        fontFamily: PropTypes.string,\n        fontKerning: PropTypes.string,\n        fontSize: PropTypes.number,\n        zIndex: PropTypes.number,\n        position: PropTypes.string,\n        top: PropTypes.number,\n        left: PropTypes.number,\n        backdropFilter: PropTypes.string,\n        textShadow: PropTypes.string,\n    }),\n}\n\nexport default ControlledCounterDigit\n","import { NumberInput } from '@mantine/core'\n\nimport PropTypes from 'prop-types'\n\nconst NumberInputDigit = (props) => {\n    const { val = 0, onChange, ...restofProps } = props\n\n    return (\n        <NumberInput\n            {...restofProps}\n            value={val}\n            min={0}\n            max={99999}\n            stepHoldDelay={500}\n            stepHoldInterval={(t) => Math.max(1000 / t ** 4, 1)}\n            step={0.0001}\n            precision={4}\n            decimalSeparator=\",\"\n            onChange={onChange}\n        />\n    )\n}\n\nNumberInputDigit.propTypes = {\n    restofProps: PropTypes.element,\n    onChange: PropTypes.func.isRequired,\n    val: PropTypes.oneOfType([PropTypes.number.isRequired, PropTypes.object]),\n}\n\nexport default NumberInputDigit\n","import PropTypes from 'prop-types'\nconst ArrowHand = (props) => {\n    const { arrowDeg } = 0 || props\n    const { color = '#973341' } = props\n    const r = `rotate(${arrowDeg} 45 45)`\n    return (\n        <svg width=\"88\" height=\"88\" viewBox=\"0 0 88 88\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g fill={color} transform={r}>\n                <path\n                    d=\"M39.1139 59.5181C47.2654 62.0847 56.0453 57.3544 58.7036 48.9119C61.3619 40.4693 56.8759 31.562 48.7244 28.9954C40.573 26.4288 31.793 31.1591 29.1347 39.6016C26.4764 48.0442 30.9624 56.9515 39.1139 59.5181 M48.5612 30.7586L43.899 7.27423L37.3446 31.4204L48.5612 30.7586Z\"\n                    fill={color}\n                    stroke={color}\n                />\n            </g>\n        </svg>\n    )\n}\nArrowHand.propTypes = {\n    arrowDeg: PropTypes.number,\n    color: PropTypes.string,\n}\n\nexport default ArrowHand\n","// главная\n\nimport { useState, useEffect, useRef, memo } from 'react'\n// import useResizeObserver from \"use-resize-observer\";\nimport InputMask from 'react-input-mask-next'\nimport {\n    Tooltip,\n    createStyles,\n    Affix,\n    Text,\n    Switch,\n    Group,\n    useMantineTheme,\n    useMantineColorScheme,\n    InputBase,\n    SimpleGrid,\n    Button,\n    BackgroundImage,\n    Card,\n    Image,\n    Center,\n    Box,\n    Container,\n    Space,\n    Grid,\n} from '@mantine/core'\n\nimport { useLogger, useId, useColorScheme, useLocalStorage } from '@mantine/hooks'\nimport useResizeObserver from 'use-resize-observer'\n\nimport useScreenshot from 'features/use-screenshot'\nimport CounterText from '../../features/counter-text'\n\nimport ControlledCounterDigit from 'features/controlled-counter-digit'\nimport NumberInputDigit from '../../features/number-input-digit'\n\nimport ArrowHand from '../../features/arrow-hand'\nimport { ImageCold, ImageHot, backNoise } from '../../shared/images'\nimport useResizeLogic from '../../features/use-resize-logic'\nimport { getCookies, getCookie, setCookie, deleteCookie } from 'cookies-next'\n\nconst TestPage = memo(() => {\n    const [isRandomFname] = useLocalStorage({ key: 'isRandomFname' })\n    const { colorScheme } = useMantineColorScheme()\n    const dark = colorScheme === 'dark'\n    const buttonRef = useRef(null)\n    const [hotRegNum, setHotRegNum] = useState<string>('')\n    const [coldRegNum, setColdRegNum] = useState<string>('')\n    const [hotValue, setValHot] = useState<number>(0)\n    const [digitsHot, setDigitsHot] = useState<number[]>([])\n    const [digitsCold, setDigitsCold] = useState<number[]>([])\n\n    const [coldValue, setValCold] = useState<number>(0)\n    const [arrowColdValue, setarrowCold] = useState<number>(0)\n    const [arrowHotValue, setarrowHot] = useState<number>(0)\n\n    const { reSizePx, reSize } = useResizeLogic()\n    const id = useId()\n\n    const { ref: wrapperRef, width, height } = useResizeObserver<HTMLDivElement>()\n    //@ts-expect-errors\n    const hkText = width >= 648 ? 0.335 : 0.178\n    //@ts-expect-errors\n    const wkText = width >= 648 ? 450 / width : 470 / width\n    //@ts-expect-errors\n    const hkArrow = width >= 648 ? 0.6 : 0.32\n    //@ts-expect-errors\n    const wkArrow = width >= 648 ? 1.2 : 2.2\n\n    const { generateImage, captureRef1, captureRef2, status } = useScreenshot()\n\n    const useStyles = createStyles((theme) => ({\n        leftBox: {\n            backgroundImage: `linear-gradient(20deg, transparent, 'blue', 'red', 'orange', 'cyan', 'white'))`,\n            position: 'relative',\n            minWidth: 100,\n        },\n        rightBox: {\n            backgroundImage: `linear-gradient(20deg, transparent, 'blue', 'red', 'orange', 'cyan', 'white'))`,\n            position: 'relative',\n            minWidth: 100,\n        },\n    }))\n\n    const { classes } = useStyles()\n\n    function onChangedigitHot(val: number) {\n        if (val > 99999) val = 99999 // потолок\n        //@ts-expect-error\n        let arrow = parseInt((val % 1).toFixed(4).substring(4).at(-1), 10) % 10\n        setarrowHot(arrow)\n        setDigitsHot(\n            (Math.trunc(val) + ((val - arrow / 10000) % 1).toFixed(3).slice(1))\n                .padStart(9, '0')\n                .split('')\n                .map(Number)\n                .filter((x: number) => {\n                    // eslint-disable-next-line no-self-compare\n                    return x === x || x === 0\n                })\n        )\n        return setValHot(val || 0)\n    }\n\n    function onChangedigitCold(val: number) {\n        if (val > 99999) val = 99999 // потолок\n        //@ts-expect-error\n        let arrow = parseInt((val % 1).toFixed(4).substring(4).at(-1), 10) % 10\n        setarrowCold(arrow)\n        setDigitsCold(\n            (Math.trunc(val) + ((val - arrow / 10000) % 1).toFixed(3).slice(1))\n                .padStart(9, '0')\n                .split('')\n                .map(Number)\n                .filter((x: number) => {\n                    // eslint-disable-next-line no-self-compare\n                    return x === x || x === 0\n                })\n        )\n\n        return setValCold(val || 0)\n    }\n\n    useLogger('TestPage: ', [\n        'reSize: ',\n        reSize,\n        reSizePx,\n        'cold',\n        coldValue,\n        arrowColdValue,\n        'hot',\n        hotValue,\n        arrowHotValue,\n        'digits',\n        digitsHot,\n        'sizes',\n        width,\n        height,\n        isRandomFname,\n    ])\n    /*@ts-expect-error\n    тюнинг-стиль на мобильных\n    */\n    /*@ts-expect-error*/\n    const forspan = width < 600 ? 'content' : 'auto'\n\n    useEffect(() => {\n        /*@ts-expect-error*/\n        buttonRef.current.click()\n        /* ⬆️ ворк-о'раунд,\n        fixed issue #1 исправить асинхрон useState в useScreenshot (https://www.reddit.com/r/javascript/comments/4rutq2/comment/d54chcb/) */\n        return () => {}\n    }, [isRandomFname])\n\n    return (\n        <>\n            <Container ref={wrapperRef}>\n                <Center>\n                    <Box\n                        sx={{\n                            alignContent: 'center',\n                        }}\n                    >\n                        <Grid gutter=\"lg\" align=\"center\" justify=\"center\">\n                            <Grid.Col span={forspan}>\n                                <InputBase\n                                    ta=\"center\"\n                                    pt={10}\n                                    pr={20}\n                                    pl={25}\n                                    size={reSize}\n                                    id={id}\n                                    label=\"Горячая вода\"\n                                    placeholder=\"Номер счётчика\"\n                                    mask=\"**-******\"\n                                    maskPlaceholder={null}\n                                    component={InputMask}\n                                    value={'' || hotRegNum}\n                                    onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                                        setHotRegNum(event.currentTarget.value)\n                                    }\n                                ></InputBase>\n                                <Tooltip\n                                    label=\"четвертая цифра после запятой двигает стрелочку\"\n                                    color={dark ? 'yellow' : 'blue'}\n                                    withArrow\n                                >\n                                    <div style={{ marginLeft: 'auto', marginRight: 'auto' }}>\n                                        <NumberInputDigit\n                                            /*@ts-expect-error */\n                                            ta=\"center\"\n                                            pt={10}\n                                            pr={20}\n                                            pl={25}\n                                            decimalSeparator=\",\"\n                                            size={reSize}\n                                            id={id}\n                                            placeholder=\"ГВ показания\"\n                                            onChange={onChangedigitHot}\n                                            val={hotValue || null}\n                                        ></NumberInputDigit>\n                                    </div>\n                                </Tooltip>\n                                <Box\n                                    /* @ts-expect-error */\n                                    ref={captureRef1}\n                                    className={classes.leftBox}\n                                >\n                                    {/* номер hot   */}\n                                    <CounterText\n                                        color=\"#4f4848\"\n                                        sx={{\n                                            letterSpacing: 0.1,\n                                            opacity: 0.3,\n                                            fontFamily: 'Tajawal, sans-serif',\n                                            fontKerning: 'normal',\n                                            fontSize: 34,\n                                            /*@ts-expect-error */\n                                            top: (0.52 * hkText * height) / 2,\n                                            /*@ts-expect-error */\n                                            left: (1.22 * wkText * width) / 4,\n                                            zIndex: 10,\n                                            position: 'absolute',\n                                            backdropFilter: 'blur(1px)',\n                                            textShadow: '1px 1px 1px rgba(0,0,0,.4), -1px -1px 0 rgba(255,255,255,.1)',\n                                        }}\n                                    >\n                                        {hotRegNum}\n                                    </CounterText>\n                                    <Box\n                                        sx={{\n                                            position: 'absolute',\n                                            zIndex: 11,\n                                            opacity: 0.8,\n                                            /*@ts-expect-error */\n                                            top: (1 * hkArrow * height) / 2,\n                                            /*@ts-expect-error */\n                                            left: (1 * wkArrow * width) / 4,\n                                        }}\n                                    >\n                                        {/* стрелка hot   */}\n                                        <ArrowHand\n                                            color=\"#973341\"\n                                            arrowDeg={((arrowHotValue || 0) % 10) * 36}\n                                            /* @ts-expect-error */\n                                            sx={{\n                                                opacity: 0.9,\n                                                position: 'absolute',\n                                                backdropFilter: 'blur(1px)',\n                                                textShadow:\n                                                    '1px 1px 1px rgba(0,0,0,.4), -1px -1px 0 rgba(255,255,255,.1)',\n                                            }}\n                                        />\n                                    </Box>\n                                    <ControlledCounterDigit\n                                        /*@ts-expect-error */\n                                        top={(hkText * height) / 2}\n                                        /*@ts-expect-error */\n                                        left={(18 + wkText * width) / 4}\n                                        /*@ts-expect-error  */\n                                        spaceBetween={27 - 1 * Number(!!(width < 648))}\n                                        digitsArray={digitsHot}\n                                        color=\"#4f4848\"\n                                    />\n                                    <Image\n                                        pt={10}\n                                        pr={20}\n                                        pb={10}\n                                        pl={25}\n                                        fit=\"contain\"\n                                        src={ImageHot}\n                                        radius=\"xs\"\n                                        withPlaceholder\n                                        placeholder={<Text align=\"center\">Счетчик горячей воды</Text>}\n                                        caption=\"Счетчик горячей воды\"\n                                    ></Image>\n                                </Box>\n                                <Center>\n                                    <Button\n                                        ref={buttonRef}\n                                        loading={status === 'loading'}\n                                        onClick={(e: React.SyntheticEvent) => generateImage(e, 1, isRandomFname)}\n                                    >\n                                        Скачать\n                                    </Button>\n                                </Center>\n                            </Grid.Col>\n                            <Grid.Col span={forspan}>\n                                <InputBase\n                                    style={{ textAlign: 'center' }}\n                                    ta=\"center\"\n                                    pt={10}\n                                    pr={20}\n                                    pl={25}\n                                    size={reSize}\n                                    id={id}\n                                    label=\"Холодная вода\"\n                                    placeholder=\"Номер счётчика\"\n                                    maskPlaceholder={null}\n                                    mask=\"**-******\"\n                                    component={InputMask}\n                                    value={'' || coldRegNum}\n                                    onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                                        setColdRegNum(event.currentTarget.value)\n                                    }\n                                ></InputBase>\n                                <Tooltip\n                                    label=\"четвертая цифра после запятой двигает стрелочку\"\n                                    color={dark ? 'yellow' : 'blue'}\n                                    withArrow\n                                >\n                                    <div style={{ marginLeft: 'auto', marginRight: 'auto' }}>\n                                        <NumberInputDigit\n                                            /*@ts-expect-error */\n                                            size={reSize}\n                                            type=\"text\"\n                                            style={{ textAlign: 'center' }}\n                                            noClampOnBlur={false}\n                                            decimalSeparator=\",\"\n                                            ta=\"center\"\n                                            pt={10}\n                                            pr={20}\n                                            pl={25}\n                                            id={id}\n                                            onChange={onChangedigitCold}\n                                            placeholder=\"ХВ показания\"\n                                            val={hotValue || null}\n                                        ></NumberInputDigit>\n                                    </div>\n                                </Tooltip>\n                                {/* eslint-disable @typescript-eslint/no-unused-vars */}\n                                {/* @ts-ignore */}\n                                <Box\n                                    /*@ts-expect-error */\n                                    ref={captureRef2}\n                                    className={classes.rightBox}\n                                >\n                                    {/* номер cold   */}\n                                    <CounterText\n                                        color=\"#4f4848\"\n                                        sx={{\n                                            letterSpacing: 0.1,\n                                            opacity: 0.3,\n                                            fontFamily: 'Tajawal, sans-serif',\n                                            fontKerning: 'normal',\n                                            fontSize: 33,\n                                            zIndex: 10,\n                                            position: 'absolute',\n                                            /*@ts-expect-error */\n                                            top: (0.61 * hkText * height) / 2,\n                                            /*@ts-expect-error */\n                                            left: (1.26 * wkText * width) / 4,\n                                            backdropFilter: 'blur(1px)',\n                                            textShadow: '1px 1px 1px rgba(0,0,0,.4), -1px -1px 0 rgba(255,255,255,.1)',\n                                        }}\n                                    >\n                                        {coldRegNum}\n                                    </CounterText>\n                                    <Box\n                                        aria-details=\"arrow cold\"\n                                        sx={{\n                                            position: 'absolute',\n                                            zIndex: 11,\n                                            opacity: 0.9,\n                                            /*@ts-expect-error */\n                                            top: (1.01 * hkArrow * height) / 2,\n                                            /*@ts-expect-error */\n                                            left: (1.025 * wkArrow * width) / 4,\n                                        }}\n                                    >\n                                        {/* стрелка cold   */}\n                                        <ArrowHand\n                                            color=\"#9b4444\"\n                                            arrowDeg={((arrowColdValue || 0) % 10) * 36}\n                                            /* @ts-expect-error */\n                                            sx={{\n                                                opacity: 0.9,\n                                                position: 'absolute',\n                                                backdropFilter: 'blur(1px)',\n                                                textShadow:\n                                                    '1px 1px 1px rgba(0,0,0,1), -1px -1px 0 rgba(255,255,255,.1)',\n                                            }}\n                                        />\n                                    </Box>\n                                    <ControlledCounterDigit\n                                        /*@ts-expect-error */\n                                        top={(1.07 * hkText * height) / 2}\n                                        /*@ts-expect-error */\n                                        left={(37 + wkText * width) / 4}\n                                        /*@ts-expect-error*/\n                                        spaceBetween={27 - 1 * Number(!!(width < 648))}\n                                        digitsArray={digitsCold}\n                                        color=\"#4f4848\"\n                                    />\n                                    <Image\n                                        pt={10}\n                                        pr={20}\n                                        pb={10}\n                                        pl={25}\n                                        fit=\"contain\"\n                                        src={ImageCold}\n                                        radius=\"xs\"\n                                        withPlaceholder\n                                        placeholder={<Text align=\"center\">Счетчик холодной воды</Text>}\n                                        caption=\"Счетчик холодной воды\"\n                                    ></Image>\n                                </Box>\n                                <Center>\n                                    <Button\n                                        loading={status === 'loading'}\n                                        onClick={(e: React.SyntheticEvent) => generateImage(e, 2, isRandomFname)}\n                                    >\n                                        Скачать\n                                    </Button>\n                                </Center>\n                            </Grid.Col>\n                        </Grid>\n                    </Box>\n                </Center>\n            </Container>\n        </>\n    )\n})\n\nTestPage.displayName = 'TestPage'\nexport default TestPage\n"],"names":["captureRef1","useRef","captureRef2","fileName","setFileName","useState","status","setStatus","choiceRef","UUID","replace","c","crypto","getRandomValues","Uint8Array","toString","split","curdate","Date","toISOString","console","log","generateImage","async","e","arg","isRandomFname","preventDefault","current","imgBase64","toPng","quality","pixelRatio","isTrusted","download","error","props","children","color","top","left","onChange","restofProps","sx","letterSpacing","opacity","fontFamily","fontKerning","fontSize","zIndex","position","backdropFilter","textShadow","Text","span","weight","spaceBetween","digitsArray","map","number","index","val","NumberInput","value","min","max","stepHoldDelay","stepHoldInterval","t","Math","step","precision","decimalSeparator","arrowDeg","r","width","height","viewBox","fill","xmlns","transform","d","stroke","TestPage","memo","useLocalStorage","key","colorScheme","useMantineColorScheme","dark","buttonRef","hotRegNum","setHotRegNum","coldRegNum","setColdRegNum","hotValue","setValHot","digitsHot","setDigitsHot","digitsCold","setDigitsCold","coldValue","setValCold","arrowColdValue","setarrowCold","arrowHotValue","setarrowHot","reSizePx","reSize","useResizeLogic","id","useId","ref","wrapperRef","useResizeObserver","hkText","wkText","hkArrow","wkArrow","useScreenshot","useStyles","createStyles","theme","leftBox","backgroundImage","minWidth","rightBox","classes","useLogger","forspan","useEffect","click","Container","Center","Box","alignContent","Grid","gutter","align","justify","Col","InputBase","ta","pt","pr","pl","size","label","placeholder","mask","maskPlaceholder","component","InputMask","event","currentTarget","Tooltip","withArrow","style","marginLeft","marginRight","arrow","parseInt","toFixed","substring","at","trunc","slice","padStart","Number","filter","x","className","Image","pb","fit","src","ImageHot","radius","withPlaceholder","caption","Button","loading","onClick","textAlign","type","noClampOnBlur","ImageCold","displayName"],"sourceRoot":""}